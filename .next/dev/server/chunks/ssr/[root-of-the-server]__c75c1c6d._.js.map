{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\nimport { Database } from '@/types/database'\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient<Database>(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll()\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options)\n            )\n          } catch {\n            // The `setAll` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing sessions.\n          }\n        },\n      },\n    }\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAGO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,mLAAO;IAEjC,OAAO,IAAA,wOAAkB,sUAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,kEAAkE;gBACpE;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/app/companies/company-detail-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CompanyDetailClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call CompanyDetailClient() from the server but CompanyDetailClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/SponsorPath/SponsorPath/src/app/companies/company-detail-client.tsx <module evaluation>\",\n    \"CompanyDetailClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,sBAAsB,IAAA,iTAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,6GACA","ignoreList":[0]}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/app/companies/company-detail-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CompanyDetailClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call CompanyDetailClient() from the server but CompanyDetailClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/SponsorPath/SponsorPath/src/app/companies/company-detail-client.tsx\",\n    \"CompanyDetailClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,sBAAsB,IAAA,iTAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,yFACA","ignoreList":[0]}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/app/companies/page.tsx"],"sourcesContent":["import { createClient } from '@/lib/supabase/server'\nimport { notFound } from 'next/navigation'\nimport Link from 'next/link'\nimport { ArrowLeft, Building2, MapPin, ExternalLink, Globe } from 'lucide-react'\nimport { Badge } from '@/components/ui'\nimport { CompanyDetailClient } from './company-detail-client'\n\ntype CompanyStats = {\n  fiscal_year: number\n  total_applications: number\n  certified_count: number\n  denied_count: number\n  withdrawn_count: number\n  approval_rate: number\n  avg_salary: number | null\n  median_salary: number | null\n  top_job_titles: Array<{ title: string; count: number }> | null\n  top_locations: Array<{ city: string; state: string; count: number }> | null\n}\n\ntype Company = {\n  id: string\n  name: string\n  slug: string\n  industry: string | null\n  headquarters_state: string | null\n  headquarters_city: string | null\n  website: string | null\n  description: string | null\n  employee_count: string | null\n  company_stats: CompanyStats[]\n}\n\nasync function getCompany(slug: string): Promise<Company | null> {\n  const supabase = await createClient()\n  \n  const { data, error } = await supabase\n    .from('companies')\n    .select(`\n      *,\n      company_stats (*)\n    `)\n    .eq('slug', slug)\n    .single()\n  \n  if (error || !data) {\n    return null\n  }\n  \n  return data as Company\n}\n\n// Generate simulated historical data based on current stats\n// In production, this would come from actual multi-year DOL data\nfunction generateHistoricalData(currentStats: CompanyStats | undefined) {\n  if (!currentStats) return []\n  \n  const currentYear = currentStats.fiscal_year || 2025\n  const baseApplications = currentStats.total_applications || 100\n  const baseApprovalRate = currentStats.approval_rate || 95\n  \n  // Generate 5 years of simulated data with realistic trends\n  const years = []\n  for (let i = 4; i >= 0; i--) {\n    const year = currentYear - i\n    // Add some variance to make it look realistic\n    const variance = 0.8 + Math.random() * 0.4 // 80% to 120%\n    const growthFactor = 1 + (4 - i) * 0.05 // Slight growth over time\n    \n    const applications = Math.round(baseApplications * variance * (1 / growthFactor))\n    const approvalRate = Math.min(100, Math.max(80, baseApprovalRate + (Math.random() - 0.5) * 10))\n    const approved = Math.round(applications * (approvalRate / 100))\n    const denied = applications - approved\n    \n    years.push({\n      year,\n      applications,\n      approved,\n      denied,\n      approvalRate: Math.round(approvalRate * 10) / 10,\n    })\n  }\n  \n  return years\n}\n\n// Generate salary distribution based on avg/median\nfunction generateSalaryDistribution(avgSalary: number | null, medianSalary: number | null) {\n  if (!avgSalary) return []\n  \n  const baseSalary = avgSalary\n  const ranges = [\n    { range: '<$80K', min: 0, max: 80000 },\n    { range: '$80-100K', min: 80000, max: 100000 },\n    { range: '$100-120K', min: 100000, max: 120000 },\n    { range: '$120-150K', min: 120000, max: 150000 },\n    { range: '$150-180K', min: 150000, max: 180000 },\n    { range: '$180-200K', min: 180000, max: 200000 },\n    { range: '>$200K', min: 200000, max: Infinity },\n  ]\n  \n  // Generate a bell curve around the average\n  return ranges.map(({ range, min, max }) => {\n    const midpoint = (min + max) / 2\n    const distance = Math.abs(midpoint - baseSalary) / 50000\n    const count = Math.max(1, Math.round(50 * Math.exp(-distance * distance)))\n    return { range, count }\n  })\n}\n\nexport async function generateMetadata({ params }: { params: Promise<{ slug: string }> }) {\n  const { slug } = await params\n  const company = await getCompany(slug)\n  \n  if (!company) {\n    return { title: 'Company Not Found' }\n  }\n  \n  const stats = company.company_stats?.[0]\n  const approvalRate = stats?.approval_rate || 0\n  const totalH1Bs = stats?.total_applications || 0\n  \n  return {\n    title: `${company.name} H1B Sponsorship Data - ${approvalRate}% Approval Rate | SponsorPath`,\n    description: `${company.name} has sponsored ${totalH1Bs.toLocaleString()} H1B visas with a ${approvalRate}% approval rate. View salary data, job titles, and locations.`,\n  }\n}\n\nexport default async function CompanyPage({ params }: { params: Promise<{ slug: string }> }) {\n  const { slug } = await params\n  const company = await getCompany(slug)\n  \n  if (!company) {\n    notFound()\n  }\n  \n  const stats = company.company_stats?.[0]\n  const historicalData = generateHistoricalData(stats)\n  const salaryDistribution = generateSalaryDistribution(stats?.avg_salary || null, stats?.median_salary || null)\n  \n  return (\n    <div className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n      {/* Back Button */}\n      <Link \n        href=\"/companies\" \n        className=\"mb-6 inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n      >\n        <ArrowLeft className=\"h-4 w-4\" />\n        Back to Companies\n      </Link>\n      \n      {/* Header */}\n      <div className=\"mb-8\">\n        <div className=\"flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between\">\n          <div className=\"flex items-start gap-4\">\n            <div className=\"flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-primary/20 to-primary/5 text-3xl font-bold text-primary\">\n              {company.name.charAt(0)}\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-bold\">{company.name}</h1>\n              <div className=\"mt-2 flex flex-wrap items-center gap-3 text-muted-foreground\">\n                {company.industry && (\n                  <Badge variant=\"secondary\" className=\"gap-1\">\n                    <Building2 className=\"h-3 w-3\" />\n                    {company.industry}\n                  </Badge>\n                )}\n                {(company.headquarters_city || company.headquarters_state) && (\n                  <span className=\"flex items-center gap-1 text-sm\">\n                    <MapPin className=\"h-4 w-4\" />\n                    {[company.headquarters_city, company.headquarters_state].filter(Boolean).join(', ')}\n                  </span>\n                )}\n                {company.employee_count && (\n                  <span className=\"text-sm\">{company.employee_count} employees</span>\n                )}\n              </div>\n              {company.website && (\n                <a \n                  href={company.website}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"mt-2 inline-flex items-center gap-1 text-sm text-primary hover:underline\"\n                >\n                  <Globe className=\"h-4 w-4\" />\n                  Visit Website\n                  <ExternalLink className=\"h-3 w-3\" />\n                </a>\n              )}\n            </div>\n          </div>\n          \n          <div className=\"flex flex-col items-end gap-2\">\n            <Badge variant=\"success\" className=\"text-lg px-4 py-2\">\n              {stats?.approval_rate || 0}% Approval Rate\n            </Badge>\n            <span className=\"text-sm text-muted-foreground\">\n              FY{stats?.fiscal_year || 2025} Data\n            </span>\n          </div>\n        </div>\n        \n        {company.description && (\n          <p className=\"mt-4 text-muted-foreground max-w-3xl\">\n            {company.description}\n          </p>\n        )}\n      </div>\n      \n      {/* Client Component with Charts and Tabs */}\n      <CompanyDetailClient \n        company={{\n          name: company.name,\n          stats: stats ? {\n            totalApplications: stats.total_applications,\n            certifiedCount: stats.certified_count,\n            deniedCount: stats.denied_count,\n            withdrawnCount: stats.withdrawn_count,\n            approvalRate: stats.approval_rate,\n            avgSalary: stats.avg_salary,\n            medianSalary: stats.median_salary,\n            fiscalYear: stats.fiscal_year,\n            topJobTitles: stats.top_job_titles || [],\n            topLocations: stats.top_locations || [],\n          } : null,\n          historicalData,\n          salaryDistribution,\n        }}\n      />\n      \n      {/* Disclaimer */}\n      <p className=\"mt-8 text-center text-sm text-muted-foreground\">\n        Data sourced from the Department of Labor LCA Disclosure Data. \n        Statistics represent Labor Condition Applications (LCAs), not actual visa approvals.\n        Historical trends are estimates based on available data.\n      </p>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}