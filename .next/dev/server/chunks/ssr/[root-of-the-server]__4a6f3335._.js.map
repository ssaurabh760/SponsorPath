{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\nimport { Database } from '@/types/database'\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient<Database>(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll()\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options)\n            )\n          } catch {\n            // The `setAll` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing sessions.\n          }\n        },\n      },\n    }\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAGO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,mLAAO;IAEjC,OAAO,IAAA,wOAAkB,sUAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,kEAAkE;gBACpE;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/app/companies/companies-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CompaniesClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call CompaniesClient() from the server but CompaniesClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/SponsorPath/SponsorPath/src/app/companies/companies-client.tsx <module evaluation>\",\n    \"CompaniesClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,kBAAkB,IAAA,iTAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,wGACA","ignoreList":[0]}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/app/companies/companies-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CompaniesClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call CompaniesClient() from the server but CompaniesClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/SponsorPath/SponsorPath/src/app/companies/companies-client.tsx\",\n    \"CompaniesClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,kBAAkB,IAAA,iTAAuB,EAClD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,oFACA","ignoreList":[0]}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/app/companies/page.tsx"],"sourcesContent":["import { createClient } from '@/lib/supabase/server'\nimport { CompaniesClient } from './companies-client'\n\n// This runs on the server\nasync function getCompanies() {\n  const supabase = await createClient()\n  \n  const { data, error } = await supabase\n    .from('companies')\n    .select(`\n      id,\n      name,\n      slug,\n      industry,\n      headquarters_state,\n      company_stats (\n        fiscal_year,\n        total_applications,\n        certified_count,\n        denied_count,\n        approval_rate,\n        avg_salary,\n        median_salary\n      )\n    `)\n    .order('name')\n  \n  if (error) {\n    console.error('Error fetching companies:', error)\n    return []\n  }\n\n  type CompanyRow = {\n    id: string\n    name: string\n    slug: string\n    industry: string | null\n    headquarters_state: string | null\n    company_stats: Array<{\n      fiscal_year: number\n      total_applications: number\n      certified_count: number\n      denied_count: number\n      approval_rate: number\n      avg_salary: number | null\n      median_salary: number | null\n    }>\n  }\n  \n  // Transform data to flatten stats\n  return (data as CompanyRow[]).map(company => {\n    const stats = company.company_stats?.[0] || {} as Partial<CompanyRow['company_stats'][0]>\n    return {\n      id: company.id,\n      name: company.name,\n      slug: company.slug,\n      industry: company.industry || 'Other',\n      headquarters_state: company.headquarters_state,\n      total_applications: stats.total_applications || 0,\n      approval_rate: stats.approval_rate || 0,\n      avg_salary: stats.avg_salary || null,\n    }\n  })\n}\n\nasync function getFilterOptions() {\n  const supabase = await createClient()\n  \n  // Get unique industries\n  const { data: industries } = await supabase\n    .from('companies')\n    .select('industry')\n    .not('industry', 'is', null)\n  \n  // Get unique states\n  const { data: states } = await supabase\n    .from('companies')\n    .select('headquarters_state')\n    .not('headquarters_state', 'is', null)\n  \n  const uniqueIndustries = [...new Set((industries as Array<{industry: string}> || []).map(i => i.industry))].sort()\n  const uniqueStates = [...new Set((states as Array<{headquarters_state: string}> || []).map(s => s.headquarters_state))].sort()\n  \n  return {\n    industries: ['All Industries', ...uniqueIndustries],\n    states: ['All States', ...uniqueStates],\n  }\n}\n\nexport default async function CompaniesPage() {\n  const [companies, filterOptions] = await Promise.all([\n    getCompanies(),\n    getFilterOptions(),\n  ])\n  \n  return (\n    <CompaniesClient \n      initialCompanies={companies} \n      industries={filterOptions.industries}\n      states={filterOptions.states}\n    />\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,0BAA0B;AAC1B,eAAe;IACb,MAAM,WAAW,MAAM,IAAA,yLAAY;IAEnC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,aACL,MAAM,CAAC,CAAC;;;;;;;;;;;;;;;IAeT,CAAC,EACA,KAAK,CAAC;IAET,IAAI,OAAO;QACT,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO,EAAE;IACX;IAmBA,kCAAkC;IAClC,OAAO,AAAC,KAAsB,GAAG,CAAC,CAAA;QAChC,MAAM,QAAQ,QAAQ,aAAa,EAAE,CAAC,EAAE,IAAI,CAAC;QAC7C,OAAO;YACL,IAAI,QAAQ,EAAE;YACd,MAAM,QAAQ,IAAI;YAClB,MAAM,QAAQ,IAAI;YAClB,UAAU,QAAQ,QAAQ,IAAI;YAC9B,oBAAoB,QAAQ,kBAAkB;YAC9C,oBAAoB,MAAM,kBAAkB,IAAI;YAChD,eAAe,MAAM,aAAa,IAAI;YACtC,YAAY,MAAM,UAAU,IAAI;QAClC;IACF;AACF;AAEA,eAAe;IACb,MAAM,WAAW,MAAM,IAAA,yLAAY;IAEnC,wBAAwB;IACxB,MAAM,EAAE,MAAM,UAAU,EAAE,GAAG,MAAM,SAChC,IAAI,CAAC,aACL,MAAM,CAAC,YACP,GAAG,CAAC,YAAY,MAAM;IAEzB,oBAAoB;IACpB,MAAM,EAAE,MAAM,MAAM,EAAE,GAAG,MAAM,SAC5B,IAAI,CAAC,aACL,MAAM,CAAC,sBACP,GAAG,CAAC,sBAAsB,MAAM;IAEnC,MAAM,mBAAmB;WAAI,IAAI,IAAI,CAAC,cAA2C,EAAE,EAAE,GAAG,CAAC,CAAA,IAAK,EAAE,QAAQ;KAAG,CAAC,IAAI;IAChH,MAAM,eAAe;WAAI,IAAI,IAAI,CAAC,UAAiD,EAAE,EAAE,GAAG,CAAC,CAAA,IAAK,EAAE,kBAAkB;KAAG,CAAC,IAAI;IAE5H,OAAO;QACL,YAAY;YAAC;eAAqB;SAAiB;QACnD,QAAQ;YAAC;eAAiB;SAAa;IACzC;AACF;AAEe,eAAe;IAC5B,MAAM,CAAC,WAAW,cAAc,GAAG,MAAM,QAAQ,GAAG,CAAC;QACnD;QACA;KACD;IAED,qBACE,uRAAC,2MAAe;QACd,kBAAkB;QAClB,YAAY,cAAc,UAAU;QACpC,QAAQ,cAAc,MAAM;;;;;;AAGlC"}}]
}