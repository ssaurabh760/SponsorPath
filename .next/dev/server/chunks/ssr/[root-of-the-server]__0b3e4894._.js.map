{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\nimport { Database } from '@/types/database'\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient<Database>(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll()\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options)\n            )\n          } catch {\n            // The `setAll` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing sessions.\n          }\n        },\n      },\n    }\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAGO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,mLAAO;IAEjC,OAAO,IAAA,wOAAkB,sUAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,kEAAkE;gBACpE;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/app/companies/%5Bslug%5D/company-detail-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CompanyDetailClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call CompanyDetailClient() from the server but CompanyDetailClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/SponsorPath/SponsorPath/src/app/companies/[slug]/company-detail-client.tsx <module evaluation>\",\n    \"CompanyDetailClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,sBAAsB,IAAA,iTAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,oHACA","ignoreList":[0]}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/app/companies/%5Bslug%5D/company-detail-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CompanyDetailClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call CompanyDetailClient() from the server but CompanyDetailClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Desktop/SponsorPath/SponsorPath/src/app/companies/[slug]/company-detail-client.tsx\",\n    \"CompanyDetailClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,sBAAsB,IAAA,iTAAuB,EACtD;IAAa,MAAM,IAAI,MAAM;AAAsP,GACnR,gGACA","ignoreList":[0]}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/app/companies/%5Bslug%5D/page.tsx"],"sourcesContent":["import { createClient } from '@/lib/supabase/server'\nimport { notFound } from 'next/navigation'\nimport Link from 'next/link'\nimport { ArrowLeft, Building2, MapPin, ExternalLink, Globe } from 'lucide-react'\nimport { Badge } from '@/components/ui'\nimport { CompanyDetailClient } from './company-detail-client'\n\ntype CompanyStats = {\n  fiscal_year: number\n  total_applications: number\n  certified_count: number\n  denied_count: number\n  withdrawn_count: number\n  approval_rate: number\n  avg_salary: number | null\n  median_salary: number | null\n  top_job_titles: Array<{ title: string; count: number }> | null\n  top_locations: Array<{ city: string; state: string; count: number }> | null\n}\n\ntype Company = {\n  id: string\n  name: string\n  slug: string\n  industry: string | null\n  headquarters_state: string | null\n  headquarters_city: string | null\n  website: string | null\n  description: string | null\n  employee_count: string | null\n  company_stats: CompanyStats[]\n}\n\nasync function getCompany(slug: string): Promise<Company | null> {\n  const supabase = await createClient()\n  \n  const { data, error } = await supabase\n    .from('companies')\n    .select(`\n      *,\n      company_stats (*)\n    `)\n    .eq('slug', slug)\n    .single()\n  \n  if (error || !data) {\n    return null\n  }\n  \n  return data as Company\n}\n\n// Get real historical data from company_stats table\nfunction getHistoricalData(allStats: CompanyStats[]) {\n  if (!allStats || allStats.length === 0) return []\n  \n  // Sort by fiscal year ascending\n  const sortedStats = [...allStats].sort((a, b) => a.fiscal_year - b.fiscal_year)\n  \n  return sortedStats.map(stats => ({\n    year: stats.fiscal_year,\n    applications: stats.total_applications,\n    approved: stats.certified_count,\n    denied: stats.denied_count,\n    approvalRate: stats.approval_rate,\n  }))\n}\n\n// Generate salary distribution based on avg/median\nfunction generateSalaryDistribution(avgSalary: number | null, medianSalary: number | null) {\n  if (!avgSalary) return []\n  \n  const baseSalary = avgSalary\n  const ranges = [\n    { range: '<$80K', min: 0, max: 80000 },\n    { range: '$80-100K', min: 80000, max: 100000 },\n    { range: '$100-120K', min: 100000, max: 120000 },\n    { range: '$120-150K', min: 120000, max: 150000 },\n    { range: '$150-180K', min: 150000, max: 180000 },\n    { range: '$180-200K', min: 180000, max: 200000 },\n    { range: '>$200K', min: 200000, max: Infinity },\n  ]\n  \n  // Generate a bell curve around the average\n  return ranges.map(({ range, min, max }) => {\n    const midpoint = (min + max) / 2\n    const distance = Math.abs(midpoint - baseSalary) / 50000\n    const count = Math.max(1, Math.round(50 * Math.exp(-distance * distance)))\n    return { range, count }\n  })\n}\n\nexport async function generateMetadata({ params }: { params: Promise<{ slug: string }> }) {\n  const { slug } = await params\n  const company = await getCompany(slug)\n  \n  if (!company) {\n    return { title: 'Company Not Found' }\n  }\n  \n  const stats = company.company_stats?.[0]\n  const approvalRate = stats?.approval_rate || 0\n  const totalH1Bs = stats?.total_applications || 0\n  \n  return {\n    title: `${company.name} H1B Sponsorship Data - ${approvalRate}% Approval Rate | SponsorPath`,\n    description: `${company.name} has sponsored ${totalH1Bs.toLocaleString()} H1B visas with a ${approvalRate}% approval rate. View salary data, job titles, and locations.`,\n  }\n}\n\nexport default async function CompanyPage({ params }: { params: Promise<{ slug: string }> }) {\n  const { slug } = await params\n  const company = await getCompany(slug)\n  \n  if (!company) {\n    notFound()\n  }\n  \n  // Get the most recent year's stats for display\n  const allStats = company.company_stats || []\n  const latestStats = allStats.length > 0 \n    ? allStats.sort((a, b) => b.fiscal_year - a.fiscal_year)[0]\n    : undefined\n  \n  // Get real historical data from all years\n  const historicalData = getHistoricalData(allStats)\n  const salaryDistribution = generateSalaryDistribution(latestStats?.avg_salary || null, latestStats?.median_salary || null)\n  \n  // Calculate year range for display\n  const years = allStats.map(s => s.fiscal_year).sort((a, b) => a - b)\n  const yearRange = years.length > 1 \n    ? `FY${years[0]}-${years[years.length - 1]}`\n    : years.length === 1 \n      ? `FY${years[0]}`\n      : 'N/A'\n  \n  return (\n    <div className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n      {/* Back Button */}\n      <Link \n        href=\"/companies\" \n        className=\"mb-6 inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors\"\n      >\n        <ArrowLeft className=\"h-4 w-4\" />\n        Back to Companies\n      </Link>\n      \n      {/* Header */}\n      <div className=\"mb-8\">\n        <div className=\"flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between\">\n          <div className=\"flex items-start gap-4\">\n            <div className=\"flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-primary/20 to-primary/5 text-3xl font-bold text-primary\">\n              {company.name.charAt(0)}\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-bold\">{company.name}</h1>\n              <div className=\"mt-2 flex flex-wrap items-center gap-3 text-muted-foreground\">\n                {company.industry && (\n                  <Badge variant=\"secondary\" className=\"gap-1\">\n                    <Building2 className=\"h-3 w-3\" />\n                    {company.industry}\n                  </Badge>\n                )}\n                {(company.headquarters_city || company.headquarters_state) && (\n                  <span className=\"flex items-center gap-1 text-sm\">\n                    <MapPin className=\"h-4 w-4\" />\n                    {[company.headquarters_city, company.headquarters_state].filter(Boolean).join(', ')}\n                  </span>\n                )}\n                {company.employee_count && (\n                  <span className=\"text-sm\">{company.employee_count} employees</span>\n                )}\n              </div>\n              {company.website && (\n                <a \n                  href={company.website}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"mt-2 inline-flex items-center gap-1 text-sm text-primary hover:underline\"\n                >\n                  <Globe className=\"h-4 w-4\" />\n                  Visit Website\n                  <ExternalLink className=\"h-3 w-3\" />\n                </a>\n              )}\n            </div>\n          </div>\n          \n          <div className=\"flex flex-col items-end gap-2\">\n            <Badge variant=\"success\" className=\"text-lg px-4 py-2\">\n              {latestStats?.approval_rate || 0}% Approval Rate\n            </Badge>\n            <span className=\"text-sm text-muted-foreground\">\n              {yearRange} â€¢ {allStats.length} year{allStats.length !== 1 ? 's' : ''} of data\n            </span>\n          </div>\n        </div>\n        \n        {company.description && (\n          <p className=\"mt-4 text-muted-foreground max-w-3xl\">\n            {company.description}\n          </p>\n        )}\n      </div>\n      \n      {/* Client Component with Charts and Tabs */}\n      <CompanyDetailClient \n        company={{\n          name: company.name,\n          stats: latestStats ? {\n            totalApplications: latestStats.total_applications,\n            certifiedCount: latestStats.certified_count,\n            deniedCount: latestStats.denied_count,\n            withdrawnCount: latestStats.withdrawn_count,\n            approvalRate: latestStats.approval_rate,\n            avgSalary: latestStats.avg_salary,\n            medianSalary: latestStats.median_salary,\n            fiscalYear: latestStats.fiscal_year,\n            topJobTitles: latestStats.top_job_titles || [],\n            topLocations: latestStats.top_locations || [],\n          } : null,\n          historicalData,\n          salaryDistribution,\n        }}\n      />\n      \n      {/* Disclaimer */}\n      <p className=\"mt-8 text-center text-sm text-muted-foreground\">\n        Data sourced from the Department of Labor LCA Disclosure Data (FY2021-2025). \n        Statistics represent Labor Condition Applications (LCAs), not actual visa approvals.\n      </p>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}}]
}