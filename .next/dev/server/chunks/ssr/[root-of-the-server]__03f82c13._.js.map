{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\nimport { cookies } from 'next/headers'\nimport { Database } from '@/types/database'\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient<Database>(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll()\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options)\n            )\n          } catch {\n            // The `setAll` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing sessions.\n          }\n        },\n      },\n    }\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAGO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,mLAAO;IAEjC,OAAO,IAAA,wOAAkB,sUAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,kEAAkE;gBACpE;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/saurabhsrivastava/Desktop/SponsorPath/SponsorPath/src/app/companies/%5Bslug%5D/page.tsx"],"sourcesContent":["import { createClient } from '@/lib/supabase/server'\nimport { notFound } from 'next/navigation'\nimport Link from 'next/link'\nimport { ArrowLeft, Building2, MapPin, TrendingUp, DollarSign, Briefcase, CheckCircle2, XCircle } from 'lucide-react'\nimport { Card, CardContent, Badge } from '@/components/ui'\n\ntype CompanyStats = {\n  fiscal_year: number\n  total_applications: number\n  certified_count: number\n  denied_count: number\n  withdrawn_count: number\n  approval_rate: number\n  avg_salary: number | null\n  median_salary: number | null\n  top_job_titles: Array<{ title: string; count: number }> | null\n  top_locations: Array<{ city: string; state: string; count: number }> | null\n}\n\ntype Company = {\n  id: string\n  name: string\n  slug: string\n  industry: string | null\n  headquarters_state: string | null\n  company_stats: CompanyStats[]\n}\n\nasync function getCompany(slug: string): Promise<Company | null> {\n  const supabase = await createClient()\n  \n  const { data, error } = await supabase\n    .from('companies')\n    .select(`\n      *,\n      company_stats (*)\n    `)\n    .eq('slug', slug)\n    .single()\n  \n  if (error || !data) {\n    return null\n  }\n  \n  return data as Company\n}\n\nexport async function generateMetadata({ params }: { params: Promise<{ slug: string }> }) {\n  const { slug } = await params\n  const company = await getCompany(slug)\n  \n  if (!company) {\n    return { title: 'Company Not Found' }\n  }\n  \n  return {\n    title: `${company.name} - H1B Sponsorship Data | SponsorPath`,\n    description: `View H1B sponsorship statistics for ${company.name}. Approval rate, salary data, and more.`,\n  }\n}\n\nexport default async function CompanyPage({ params }: { params: Promise<{ slug: string }> }) {\n  const { slug } = await params\n  const company = await getCompany(slug)\n  \n  if (!company) {\n    notFound()\n  }\n  \n  const stats = company.company_stats?.[0] || {} as Partial<CompanyStats>\n  const topJobTitles = stats.top_job_titles || []\n  const topLocations = stats.top_locations || []\n  \n  return (\n    <div className=\"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8\">\n      {/* Back Button */}\n      <Link \n        href=\"/companies\" \n        className=\"mb-6 inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground\"\n      >\n        <ArrowLeft className=\"h-4 w-4\" />\n        Back to Companies\n      </Link>\n      \n      {/* Header */}\n      <div className=\"mb-8 flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between\">\n        <div className=\"flex items-start gap-4\">\n          <div className=\"flex h-16 w-16 items-center justify-center rounded-xl bg-muted text-2xl font-bold text-muted-foreground\">\n            {company.name.charAt(0)}\n          </div>\n          <div>\n            <h1 className=\"text-3xl font-bold\">{company.name}</h1>\n            <div className=\"mt-2 flex flex-wrap items-center gap-3 text-muted-foreground\">\n              {company.industry && (\n                <span className=\"flex items-center gap-1\">\n                  <Building2 className=\"h-4 w-4\" />\n                  {company.industry}\n                </span>\n              )}\n              {company.headquarters_state && (\n                <span className=\"flex items-center gap-1\">\n                  <MapPin className=\"h-4 w-4\" />\n                  {company.headquarters_state}\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n        \n        <Badge variant=\"success\" className=\"text-base px-4 py-2\">\n          {stats.approval_rate || 0}% Approval Rate\n        </Badge>\n      </div>\n      \n      {/* Stats Cards */}\n      <div className=\"mb-8 grid grid-cols-2 gap-4 sm:grid-cols-4\">\n        <Card>\n          <CardContent className=\"p-6 text-center\">\n            <TrendingUp className=\"mx-auto h-8 w-8 text-primary mb-2\" />\n            <div className=\"text-3xl font-bold\">\n              {(stats.total_applications || 0).toLocaleString()}\n            </div>\n            <div className=\"text-sm text-muted-foreground\">Total H1B Applications</div>\n          </CardContent>\n        </Card>\n        \n        <Card>\n          <CardContent className=\"p-6 text-center\">\n            <CheckCircle2 className=\"mx-auto h-8 w-8 text-green-500 mb-2\" />\n            <div className=\"text-3xl font-bold\">\n              {(stats.certified_count || 0).toLocaleString()}\n            </div>\n            <div className=\"text-sm text-muted-foreground\">Certified</div>\n          </CardContent>\n        </Card>\n        \n        <Card>\n          <CardContent className=\"p-6 text-center\">\n            <XCircle className=\"mx-auto h-8 w-8 text-red-500 mb-2\" />\n            <div className=\"text-3xl font-bold\">\n              {(stats.denied_count || 0).toLocaleString()}\n            </div>\n            <div className=\"text-sm text-muted-foreground\">Denied</div>\n          </CardContent>\n        </Card>\n        \n        <Card>\n          <CardContent className=\"p-6 text-center\">\n            <DollarSign className=\"mx-auto h-8 w-8 text-primary mb-2\" />\n            <div className=\"text-3xl font-bold\">\n              {stats.avg_salary ? `$${Math.round(stats.avg_salary / 1000)}K` : 'N/A'}\n            </div>\n            <div className=\"text-sm text-muted-foreground\">Avg Salary</div>\n          </CardContent>\n        </Card>\n      </div>\n      \n      {/* Details Grid */}\n      <div className=\"grid gap-6 lg:grid-cols-2\">\n        {/* Top Job Titles */}\n        <Card>\n          <CardContent className=\"p-6\">\n            <h2 className=\"mb-4 flex items-center gap-2 text-lg font-semibold\">\n              <Briefcase className=\"h-5 w-5\" />\n              Top Job Titles\n            </h2>\n            {topJobTitles.length > 0 ? (\n              <div className=\"space-y-3\">\n                {topJobTitles.map((job, index) => (\n                  <div key={index} className=\"flex items-center justify-between\">\n                    <span className=\"text-sm truncate pr-4\">{job.title}</span>\n                    <Badge variant=\"secondary\">{job.count}</Badge>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-muted-foreground\">No job title data available</p>\n            )}\n          </CardContent>\n        </Card>\n        \n        {/* Top Locations */}\n        <Card>\n          <CardContent className=\"p-6\">\n            <h2 className=\"mb-4 flex items-center gap-2 text-lg font-semibold\">\n              <MapPin className=\"h-5 w-5\" />\n              Top Work Locations\n            </h2>\n            {topLocations.length > 0 ? (\n              <div className=\"space-y-3\">\n                {topLocations.map((loc, index) => (\n                  <div key={index} className=\"flex items-center justify-between\">\n                    <span className=\"text-sm\">{loc.city}, {loc.state}</span>\n                    <Badge variant=\"secondary\">{loc.count}</Badge>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-muted-foreground\">No location data available</p>\n            )}\n          </CardContent>\n        </Card>\n        \n        {/* Salary Details */}\n        <Card>\n          <CardContent className=\"p-6\">\n            <h2 className=\"mb-4 flex items-center gap-2 text-lg font-semibold\">\n              <DollarSign className=\"h-5 w-5\" />\n              Salary Information\n            </h2>\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Average Salary</span>\n                <span className=\"font-semibold\">\n                  {stats.avg_salary ? `$${Math.round(stats.avg_salary).toLocaleString()}` : 'N/A'}\n                </span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Median Salary</span>\n                <span className=\"font-semibold\">\n                  {stats.median_salary ? `$${Math.round(stats.median_salary).toLocaleString()}` : 'N/A'}\n                </span>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n        \n        {/* Application Stats */}\n        <Card>\n          <CardContent className=\"p-6\">\n            <h2 className=\"mb-4 flex items-center gap-2 text-lg font-semibold\">\n              <TrendingUp className=\"h-5 w-5\" />\n              Application Statistics\n            </h2>\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Total Applications</span>\n                <span className=\"font-semibold\">{(stats.total_applications || 0).toLocaleString()}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Certified</span>\n                <span className=\"font-semibold text-green-600\">{(stats.certified_count || 0).toLocaleString()}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Denied</span>\n                <span className=\"font-semibold text-red-600\">{(stats.denied_count || 0).toLocaleString()}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Withdrawn</span>\n                <span className=\"font-semibold\">{(stats.withdrawn_count || 0).toLocaleString()}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Fiscal Year</span>\n                <span className=\"font-semibold\">{stats.fiscal_year || 'N/A'}</span>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n      \n      {/* Disclaimer */}\n      <p className=\"mt-8 text-center text-sm text-muted-foreground\">\n        Data sourced from the Department of Labor LCA Disclosure Data. \n        Statistics represent Labor Condition Applications (LCAs), not actual visa approvals.\n      </p>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}}]
}